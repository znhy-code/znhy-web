<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="apple-mobile-web-app-title" />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="x-rim-auto-match" content="none" />

    <title i18n i18n-html="首页">首页</title>

    <!-- ICO -->
    <link href="./favicon.ico" rel="shortcut icon" />

    <!-- Bootstrap -->
    <link href="./Theme/DApp/css/bootstrap.min.css" rel="stylesheet" />
    <!--自写-->
    <link href="./Theme/DApp/css/other.css" rel="stylesheet" />
</head>
<body>
    <header class="navbar navbar-static-top bs-docs-nav header-no-back" id="fixedBg">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
            </div>
            <nav id="bs-navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right data-language-i18n">
                </ul>
            </nav>
        </div>
    </header>

    <!--banner-->
    <div class="banner-main cst_sectionblock">
        <div class="container">
            <div class="banner-text">
                <div class="banner-logo"> <img src="./Theme/DApp/images/logo.png" /> </div>
                <h1 i18n i18n-html="以太智能合约">以太智能合约</h1>
                <h2> </h2>
                <p i18n i18n-html="全球唯一（USDT）以太智能合约，进场排队，出场秒到，结合了最尖端的，人工智能技术，大数据，云计算，完全，链上统计，链上核算，链上分配，链上支付，（全智能合约）。">全球唯一（USDT）以太智能合约，进场排队，出场秒到，结合了最尖端的，人工智能技术，大数据，云计算，完全，链上统计，链上核算，链上分配，链上支付，（全智能合约）。</p>

            </div>
        </div>
    </div>
    <!--倒数-->
    <div class="reciprocal-main cst_sectionblock">
        <div class="container">
            <div class="reciprocal-box">
                <ul>
                    <li class="li-l data-contractState15-1">
                        <h2 class="data-contractState14">--</h2>
                        <p i18n i18n-html="{{d.今日累计投资}}(USDT)">
                            今日累计投资(USDT)
                        </p>
                    </li>
                    <li class="li-r data-contractState15-1">
                        <h2 class="data-contractState15">--</h2>
                        <p i18n i18n-html="{{d.今日剩余投资}}(USDT)">
                            今日剩余投资(USDT)
                        </p>
                    </li>
                    <li class="li-l data-contractState14-1" style="display:none">
                        <h2 class="data-contractState14">--</h2>
                        <p i18n i18n-html="{{d.今日投资}}(USDT)">
                            今日投资(USDT)
                        </p>
                    </li>
                    <li class="li-r data-contractState14-1" style="display:none">
                        <h2 class="data-contractState14">--</h2>
                        <p i18n i18n-html="{{d.累计投资}}(USDT)">
                            累计投资(USDT)
                        </p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--现在加入-->
    <div class="now-join-main cst_sectionblock">
        <div class="container">
            <div class="title-box">
                <hr class="hr-l">
                <div class="">
                    <h1 i18n i18n-html="我要参与">我要参与</h1>
                </div>
                <hr class="hr-r">
            </div>
            <div class="now-join-box">
                <div class="join_tab">
                    <div class="tab-title">
                        <ul>
                            <li class="active"> <span i18n i18n-html="门票">门票</span> </li>
                            <li> <span i18n i18n-html="游戏">游戏</span> </li>
                            <li> <span i18n i18n-html="邀请">邀请</span> </li>
                            <li> <span i18n i18n-html="规则">规则</span> </li>
                        </ul>
                    </div>
                    <div class="tab-container">
                        <!--门票-->
                        <div class="tab-box" style="display: block;">
                            <div class="investment-box">
                                <h4>
                                    <i i18n i18n-html="当前门票的共振比率">当前门票的共振比率</i>
                                    <span><i>1</i>USDT~<i class="data-contractState4">--</i>ZNHY</span>
                                </h4>
                                <div class="input-group input-group-lg">
                                    <input type="text" class="form-control buyTicketAmount" placeholder="10 USDT" aria-describedby="sizing-addon1">
                                    <span class="input-group-addon" style="">USDT</span>
                                </div>
                                <div class="investment-data">
                                    <h4> </h4>
                                    <p>
                                        <i i18n i18n-html="余额">余额</i><br>
                                        <span>ETH:<i class="data-balance">--</i></span><br>
                                        <span>USDT:<i class="data-balance-usdt">--</i></span><br>
                                        <span>ZNHY:<i class="data-balance-ett">--</i></span>
                                    </p>
                                    <div class="price-box">
                                        <h2 i18n i18n-html="当前价格">当前价格</h2>
                                        <p><span>1</span>ZNHY&nbsp;=&nbsp;<span class="data-contractState4-1">--</span>USDT</p>
                                    </div>
                                    <!--<div class="chart-box">
                                         <div id="main" style="width:100%;height:100%;"></div>
                                    </div>-->
                                </div>
                                <div class="sub_btn"><button type="button" onclick="buyTicket()" i18n i18n-html="购买">购买</button></div>
                            </div>
                        </div>
                        <!--游戏-->
                        <div class="tab-box" style="display: none;">
                            <div class="investment-box">
                                <h4>
                                    <i i18n i18n-html="当前价格比率">当前价格比率</i>
                                    <span><i>1</i>USDT~<i class="data-contractState4">--</i>ZNHY</span>
                                </h4>
                                <h4><i i18n i18n-html="需要门票">需要门票</i>：<span class="data-investment-Ticket">0</span></h4>
                                <div class="text-center">
                                    <button type="button" class="btn btn-default btn-lg" onclick="ChangeCalculateInput(this)" data-change=".investAmount" data-base="100" data-direction="0" data-limit="">100 USDT</button>
                                    <button type="button" class="btn btn-default btn-lg" onclick="ChangeCalculateInput(this)" data-change=".investAmount" data-base="700" data-direction="0" data-limit="">700 USDT</button>
                                    <button type="button" class="btn btn-default btn-lg" onclick="ChangeCalculateInput(this)" data-change=".investAmount" data-base="7000" data-direction="0" data-limit="" ">7000 USDT</button>
                                    <button type="button" class="btn btn-default btn-lg" onclick="ChangeCalculateInput(this)" data-change=".investAmount" data-base="70000" data-direction="0" data-limit="">70000 USDT</button>
                                </div>
                                <div class="input-group input-group-lg">
                                    <input type="text" class="form-control investAmount" placeholder="100 USDT" aria-describedby="sizing-addon1">
                                    <span class="input-group-addon" style="">USDT</span>
                                </div>
                                <div class="investment-data">
                                    <h4><i i18n i18n-html="最低">最低</i><span>100USDT</span>~<i i18n i18n-html="最高">最高</i><span i18n i18n-html="30{{d.万}}USDT">30万USDT</span><i i18n i18n-html="进场">进场</i></h4>
                                    <h4><i i18n i18n-html="余额">余额</i>：<i class="data-balance-usdt">--</i></h4>
                                </div>
                                <div class="sub_btn"><button onclick="invest_1()" i18n i18n-html="{{d.发送}}USDT">发送USDT</button></div>
                            </div>
                        </div>
                        <!--邀请-->
                        <div class="tab-box" style="display: none;">
                            <div class="invite">
                                <ul>
                                    <li>
                                        <img src="./Theme/DApp/images/icon02.png" />
                                        <span i18n i18n-html="{{d.我的直推人的地址}}：">我的直推人的地址：</span>
                                        <span class="data-contractUserInfo-raddr">--</span>
                                    </li>
                                    <li>
                                        <img src="./Theme/DApp/images/icon04.png" />
                                        <span i18n i18n-html="{{d.我的直推数量}}：">我的直推数量：</span>
                                        <span class="data-contractUserInfo24">--</span>
                                    </li>
                                    <!--<li>
                                            <img src="./Theme/DApp/images/icon02.png" />
                                            <span i18n i18n-html="{{d.我的邀请码}}：">我的邀请码：</span><span class="data-contractUserInfoCode">--</span>
                                        </li>-->
                                    <li>
                                        <img src="./Theme/DApp/images/icon02.png" />
                                        <span i18n i18n-html="{{d.我的邀请链接}}：">我的邀请链接：</span><span class="data-inviteUrl">--</span>
                                    </li>
                                </ul>
                                <div class="sub_btn">
                                    <!--<button type="button" class="data-contractUserInfoCode-copy copyData" data-title="邀请码" data-value="" i18n i18n-html="复制邀请码">复制邀请码</button>-->
                                    <button type="button" class="data-inviteUrl-copy copyData" data-title="邀请链接" data-value="" i18n i18n-html="复制邀请链接">复制邀请链接</button>
                                </div>
                            </div>
                        </div>
                        <!--规则-->
                        <div class="tab-box" style="display: none;">
                            <div class="rule-box">
                                <h3 i18n i18n-html="玩法规则">玩法规则</h3>
                                <div class="rule-list">
                                    <ul>
                                        <li i18n i18n-html="静态分红按每日5‰，收益计算。">静态分红按每日5‰，收益计算。</li>
                                        <li i18n i18n-html="动+静，100USDT~30万USDT，都是三倍出局。">动+静，100USDT~30万USDT，都是三倍出局。</li>
                                        <li i18n i18n-html="一个账号出局前加单，以投资金额大的计算三倍加速出局，小金额的账号都按静态三倍分红出局。">一个账号出局前加单，以投资金额大的计算三倍加速出局，小金额的账号都按静态三倍分红出局。</li>
                                    </ul>
                                    <ul>
                                        <li i18n i18n-html="所有动态奖励700USDT以上不烧伤，700usdt以下1:1烧伤的，自动烧伤到分红合约。">所有动态奖励700USDT以上不烧伤，700usdt以下1:1烧伤的，自动烧伤到分红合约。</li>
                                        <li i18n i18n-html="见点奖励（要求）推荐1个拿1代，以此类推，推荐10个拿10代，推荐不达标的，见点奖励自动烧伤。">见点奖励（要求）推荐1个拿1代，以此类推，推荐10个拿10代，推荐不达标的，见点奖励自动烧伤。</li>
                                        <li i18n i18n-html="所有结算后的奖励提现，收取3%的（ZNHY）代币手续费，否则提现失败。">所有结算后的奖励提现，收取3%的（ZNHY）代币手续费，否则提现失败。</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--统计数据-->
            <div class="title-box">
                <hr class="hr-l">
                <div class="">
                    <h1 i18n i18n-html="统计数据">统计数据</h1>
                </div>
                <hr class="hr-r">
            </div>
            <div class="statistical-data row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 income-box">
                    <div class="statistical-box">
                        <h4 i18n i18n-html="我的收益">我的收益</h4>
                        <ul class="list-line">
                            <li><span class="operate-btn" onclick="settlement(this, '1')" i18n i18n-html="结算">结算</span><i i18n i18n-html="节点奖励收益">节点奖励收益</i><span class="data-contractUserInfo16">--</span></li>
                            <li><i i18n i18n-html="见点奖励收益">见点奖励收益</i><span class="data-contractUserInfo13">--</span></li>
                            <li class="data-contractUserInfo20-1"><span class="operate-btn" onclick="settlement(this, '0')" i18n i18n-html="结算">结算</span><i i18n i18n-html="每日分红收益">每日分红收益</i><span class="data-contractUserInfo20">--</span></li>
                            <li class="data-investRecord-1-1" style="display:none"><span class="operate-btn" onclick="settlement(this, '0')" i18n i18n-html="结算">结算</span><i i18n i18n-html="每日分红收益">每日分红收益</i>1<span class="data-investRecord-1">--</span></li>
                            <li class="data-investRecord-2-1" style="display:none"><span class="operate-btn" onclick="settlement(this, '0')" i18n i18n-html="结算">结算</span><i i18n i18n-html="每日分红收益">每日分红收益</i>2<span class="data-investRecord-2">--</span></li>
                            <li class="data-investRecord-3-1" style="display:none"><span class="operate-btn" onclick="settlement(this, '0')" i18n i18n-html="结算">结算</span><i i18n i18n-html="每日分红收益">每日分红收益</i>3<span class="data-investRecord-3">--</span></li>
                            <li><i i18n i18n-html="未结算分红总收益">未结算分红总收益</i><span class="data-contractUserInfo-DailyDividend">--</span></li>
                            <li><span class="operate-btn" onclick="settlement(this, '2')" i18n i18n-html="结算">结算</span><i i18n i18n-html="每日市场分红收益">每日市场分红收益</i><span class="data-contractUserInfo17">--</span></li>
                            <li><span class="operate-btn" onclick="settlement(this, '3')" i18n i18n-html="结算">结算</span><i i18n i18n-html="服务佣金收益">服务佣金收益</i><span class="data-contractUserInfo18">--</span></li>
                            <li><span class="operate-btn" onclick="settlement(this, '4')" i18n i18n-html="结算">结算</span><i i18n i18n-html="平级奖励收益">平级奖励收益</i><span class="data-contractUserInfo19">--</span></li>
                            <li><i i18n i18n-html="下次分红收益时间差">下次分红收益时间差</i><span class="data-contractUserInfo22">--</span></li>
                            <li><i i18n i18n-html="动+静3.0倍出局还差">动+静3.0倍出局还差</i><span><i class="data-contractUserInfo23">--</i>USDT</span></li>
                            <li><i i18n i18n-html="未结算的收益">未结算的收益</i><span class="data-contractUserInfo16_20">--</span></li>
                            <li><i i18n i18n-html="我的业绩收益">我的业绩收益</i><span class="data-contractUserInfo10_11">--</span></li>
                            <li><i i18n i18n-html="未提现数量">未提现数量</i><span><i class="data-contractUserInfo14">--</i>USDT</span></li>
                        </ul>
                        <button type="button" class="btn btn-success my-withdraw-btn lan-37 data-withdraw disabled" onclick="takeBonus(this);" i18n i18n-html="提现收益">提现收益</button>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 income-box">
                    <div class="statistical-box">
                        <h4 i18n i18n-html="统计">统计</h4>
                        <ul class="list-line">
                            <li><i i18n i18n-html="已销售门票">已销售门票</i><span class="data-contractState12">--</span></li>
                            <li><i i18n i18n-html="已销毁的门票">已销毁的门票</i><span class="data-contractState13">--</span></li>
                            <li><i i18n i18n-html="已投入总资金">已投入总资金</i><span class="data-contractUserInfo7">--</span></li>
                            <li><i i18n i18n-html="已结算的资金">已结算的资金</i><span class="data-contractUserInfo14_15">--</span></li>
                            <li><i i18n i18n-html="总已结算的分红收益">总已结算的分红收益</i><span class="data-contractUserInfo10">--</span></li>
                            <li><i i18n i18n-html="总的推荐收益">总的推荐收益</i><span class="data-contractUserInfo11">--</span></li>
                            <li><i i18n i18n-html="7代内团队业绩">7代内团队业绩</i><span class="data-contractUserInfo12">--</span></li>
                            <li><i i18n i18n-html="团队">团队</i><span class="data-contractUserInfo2">--</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--提示信息弹窗-->
    <div id="msgtips2" class="popup tips-popup" style="display:none;">
        <div class="popup-box">
            <div class="popup-box-title" id="msgtips2-title" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <p id="msgtips2-msg">消息</p>
                </div>
            </div>
            <div class="popup-submit">
                <button class="cancle-btn" i18n i18n-html="确认">确认</button>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>

    <!--推荐码填写-->
    <div id="Recommendation" class="popup tips-popup" style="display:none;">
        <div class="popup-box">
            <div class="popup-box-title">

                <div class="popup-box-close"></div>
            </div>
            <div class="popup-box-content data-Recommendation-1">
                <div class="popup-box-text">
                    <label class="form-label" i18n i18n-html="推荐人地址">推荐人地址</label>
                    <input type="text" class="invitors data-RCode" maxlength="70" autocomplete="off" placeholder="请输入推荐人地址" i18n i18n-placeholder="请输入推荐人地址">
                </div>
            </div>
            <div class="popup-box-content data-defaultAccount-1" style="display:none">
                <div class="popup-box-text">
                    <label class="form-label" i18n i18n-html="复投地址">复投地址</label>
                    <input type="text" class="invitors data-defaultAccount" autocomplete="off" readonly>
                </div>
            </div>
            <!--<div class="smallTil">
                Default is <span class="data-defaultRCode" style="display:none"></span>
            </div>-->
            <div class="selection-fee">
                <label class="form-label" i18n i18n-html="燃油单价">燃油单价</label>
                <div class="service-charge">
                    <span class="" data-value="6">6</span>
                    <span class="" data-value="11">11</span>
                    <span class="" data-value="16">16</span>
                    <span class="" data-value="21">21</span>
                </div>
            </div>
            <div class="popup-submit">
                <button class="confirm-btn width100 Recommendation-close" onclick="invest_2()" i18n i18n-html="确认">确认</button>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>

    <!--获取资金账户授权提示-->
    <div id="TokenApproveLoad" class="popup home-tips" style="display:none">
        <div class="popup-box">
            <div class="popup-box-title text-left" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <div class="loader">
                        <div class="loading-3">
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                        </div>
                    </div>
                    <p i18n i18n-html="{{d.正在获取资金账户授权}}...">正在获取资金账户授权...</p>
                </div>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>

    <!--处理交易提示提示-->
    <div id="TransactionProcessing" class="popup home-tips" style="display:none">
        <div class="popup-box">
            <div class="popup-box-title text-left" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <div class="loader">
                        <div class="loading-3">
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                        </div>
                    </div>
                    <p i18n i18n-html="{{d.正在处理交易}}...">正在处理交易...</p>
                </div>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>
</body>
</html>


<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="./Plugin/Jquery/jquery-3.1.1.min.js"></script>

<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="./Theme/DApp/js/bootstrap.min.js"></script>

<link href="./Plugin/layer/layui/css/layui.min.css" rel="stylesheet" /><!--layui样式-->
<script src="./Plugin/layer/layui/layui.js"></script><!--layui组件-->
<script>
    var layer;
    var laytpl;
    layui.use(['layer', 'laytpl'], function () {
        layer = layui.layer;
        laytpl = layui.laytpl;
    });
    //全局通用消息接口
    function msgtips(msg, type, callback) {
        if (type)
            layer.msg(msg, { icon: type })
        else
            layer.msg(msg)
        if (typeof callback === "function") {
            setTimeout(function () {
                callback();
            }, 1000)
        }
    }

    //全局通用消息接口2
    function msgtips2(msg, title) {
        $msgtips2 = $('#msgtips2')
        title && $msgtips2.find('#msgtips2-title').html(title)
        msg && $msgtips2.find('#msgtips2-msg').html(msg)
        showpop('#msgtips2')
    }

    function msgtips3(msg, title) {
        $.i18n_load(function () {
            $msgtips2 = $('#msgtips2')
            title && $msgtips2.find('#msgtips2-title').html(title)
            msg && $msgtips2.find('#msgtips2-msg').html(msg.toTranslateArr())
            showpop('#msgtips2')
        })
    }
</script>

<script>
    //弹框
    function showpop(id) {
        $(id).fadeIn();
        $('body').addClass('open-layer');

        var h = ($(window).height() - $(id).children('.popup-box').height()) / 2;
        $(id).children('.popup-box').css('top', h);
    }
    $('.cancle-btn').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.popup-box-close').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.popup-bg').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.Recommendation-close').click(function () {
        $('#Recommendation').fadeOut();
    });

    //tab
    $(function () {
        //选项卡
        $(".tab-title li").click(function () {

            var _index = $(this).index();

            $(".tab-box").eq(_index).fadeIn().siblings().hide();
            $(this).addClass("active").siblings().removeClass("active");
        });
    });
</script>

<script>
    //顶部滚动效果
    $(function () {
        $(window).scroll(function () {
            fixedBgScrollTop()
        });
        fixedBgScrollTop()
    });
    function fixedBgScrollTop() {
        if ($(window).scrollTop() >= 25) {
            $("#fixedBg").removeClass('header-no-back');
        }
        else {
            $("#fixedBg").addClass('header-no-back');
        }
    }
</script>

<script>
    var validateNaN = function (num) {
        if (isNaN(BigNumber(num))) {
            return "0";
        } else return num;
    }
    //加减投注
    function ChangeCalculateInput(onthis) {
        var $onthis = $(onthis)
        var inputObj = $onthis.data("change").toString()
        var baseVal = $onthis.data("base").toString()
        var direction = $onthis.data("direction").toString()
        var limit = $onthis.data("limit").toString()
        //direction -1 减 ,0 设置为baseVal, 1 加
        //limit  不能小于或大于
        var changeValue = validateNaN($(inputObj).val());
        baseVal = validateNaN(baseVal);
        limit = validateNaN(limit);
        switch (direction) {
            case "-1":
                changeValue = changeValue.sub(baseVal)
                if (changeValue < limit) {
                    changeValue = limit;
                }
                break;
            case "0":
                changeValue = baseVal
                break;
            case "1":
                changeValue = changeValue.add(baseVal)
                if (changeValue > limit) {
                    changeValue = limit;
                }
                break;
            default:
        }
        $(inputObj).val(changeValue).change()
    }

    //调整合约投资精度
    $(function () {
        var dataethWeiList = $(".data-dataethWei")
        for (var i = 0; i < dataethWeiList.length; i++) {
            var $item = $(dataethWeiList[i]);
            var baseVal = $item.data("base").toString()
            if (baseVal) {
                baseVal = validateNaN(baseVal).mul(_ethWeiShow);
                $item.data("base", baseVal)
            }

            var limit = $item.data("limit").toString()
            if (limit) {
                limit = validateNaN(limit).mul(_ethWeiShow);
                $item.data("limit", limit)
            }
        }
        var showethWeiList = $(".data-showethWei")
        for (var i = 0; i < showethWeiList.length; i++) {
            var $item = $(showethWeiList[i]);
            var showval = $item.html().toString()
            if (true) {
                showval = validateNaN(showval).mul(_ethWeiShow);
                $item.html(showval)
            }
        }

        var valueethWeiList = $(".data-valueethWei")
        for (var i = 0; i < valueethWeiList.length; i++) {
            var $item = $(valueethWeiList[i]);
            var inputval = $item.val().toString()
            if (true) {
                inputval = validateNaN(inputval).mul(_ethWeiShow);
                $item.val(inputval)
            }
        }
    });

    //输入联动
    $(function () {
        //投资门票销毁计算
        $('.investAmount').change(function () {
            investmentTicket()
        })
        $('.investAmount').keyup(function () {
            investmentTicket()
        })
    })
    function investmentTicket() {
        var investAmount = $('.investAmount').val() || 0
        var ratio = _DappContractPlugin.paramRatio || 0
        var investmentTicket = investAmount.mul(ratio).div(10)
        $('.data-investment-Ticket').html(investmentTicket)
    }

    //燃油单价选择
    $(function () {
        //投资门票销毁计算
        $('.service-charge span').click(function () {
            var i = $(this).index();
            $(this).addClass('active').siblings().removeClass('active');
        })
    })
</script>

<script src="./Plugin/clipboard/clipboard.min.js"></script>
<script type="text/javascript">
    //复制相关
    $(function () {
        var clipboard = new Clipboard('.copyData', {
            text: function (e) {
                return $(e).data('value');
            }
        });
        clipboard.on('success', function (e) {
            console.log(e);
            msgtips($(e.trigger).data('title').toTranslate() + '已复制到剪切板'.toTranslate());
        });

        clipboard.on('error', function (e) {
            console.log(e);
            msgtips("复制失败".toTranslate());
        });
    });
</script>



<!-- Dapp JS -->
<script src="./Plugin/Dapp/web3.min.js"></script>
<script src="./Plugin/Dapp/MathRepairV4.js?v=1.0.1"></script>
<script src="./Plugin/Dapp/DappBase.Plugin.js?v=1.1.7"></script>
<script src="./Plugin/Dapp/DappContract.Plugin.js?v=1.1.7"></script>
<script src="./Scripts/DateFormat.js"></script>
<script src="./Plugin/Dapp/main.js?v=1.1.23"></script>
<script>
    //显示信息处理
     function HandleShowContractUserInfo_Text() {
        //显示等级
        var level = $('.data-contractUserInfo2').data("value")
        var levelShow = "-"
        switch (level) {
            case "0":
                levelShow = "普通".toTranslate()
                break;
            case "1":
                levelShow = "白银".toTranslate()
                break;
            case "2":
                levelShow = "黄金".toTranslate()
                break;
            case "3":
                levelShow = "钻石".toTranslate()
                break;
        }
        $('.data-contractUserInfo2').html(levelShow)

        var lastRwTime = $('.data-contractUserInfo22').data("value")
        if (Number(lastRwTime) > 86400) {
            timeCalmer(Number(lastRwTime), '.data-contractUserInfo22', "等待结算".toTranslate())
        } else {
            timeCalmer(0, '.data-contractUserInfo22', "--")
        }
    }

    HandleShowContractUserInfo = function () {
        HandleShowContractUserInfo_Text()

        //显示邀请码
        showInvitationlLink()

        //计算门票销毁
        investmentTicket()

        //处理投资列表
        loadList()

        //间隔刷新数据
        IntervalRefreshData()
    }
    //提示账户资金授权
    HandleShowTokenApproveLoad = function (show) {
        if (show) {
            $('#TokenApproveLoad').show()
        } else {
            $('#TokenApproveLoad').hide()
        }
    }
    //提示交易处理
    HandleShowTransactionProcessingLoad = function (show) {
        if (show) {
            $('#TransactionProcessing').show()
        } else {
            $('#TransactionProcessing').hide()
        }
    }

    //刷新触发事件
    HandleShowChangeLoad = function () {
        timeCalmerClear();
    }
</script>
<script>
    //倒计时
    var timestamptimer = null;

    function timeCalmerClear() {
        timestamptimer && clearInterval(timestamptimer);
    }

    function timeCalmer(timestamp, ddiv, endmsg) {

        timestamptimer && clearInterval(timestamptimer);
        if (timestamp == 0) return;

        $(ddiv).html("")

        var timestamp = Math.floor((timestamp - new Date().getTime() / 1000));
        console.log(timestamp);
        while (timestamp < 0) {
            timestamp += 86400
        }
        console.log(timestamp);

        if (timestamp > 0) {
            timestamp = timestamp + 10;
            timestamptimer = setInterval(function () {
                timestamp--;
                var talltiemstip = secTotimeH(timestamp);
                $(ddiv).html(talltiemstip)
                if (timestamp <= 0) {
                    //到时处理业务（刷新页面或数据）
                    timestamptimer && clearInterval(timestamptimer);
                    setTimeout(function () {
                        //window.location.reload();
                        //$(ddiv).html(endmsg)
                        timeCalmer(-1, ddiv, endmsg)
                    }, 30 * 1000)
                }
            }, 1000);
        } else {
            //到时处理业务（刷新页面或数据
            //window.location.reload();
            //$(ddiv).html(endmsg)
            timeCalmer(-1, ddiv, endmsg)
        }
    }

    function secTotimeH(s) {
        var t;
        if (s > -1) {
            var hour = Math.floor(s / 3600);
            var min = Math.floor(s / 60) % 60;
            var sec = s % 60;
            if (hour > 0) {
                if (hour < 10) {
                    t = '0' + hour + "时".toTranslate()
                } else {
                    t = hour + "时".toTranslate()
                }
            } else {
                t = '';
            }
            if (min < 10) {
                t += "0";
            }
            t += min + "分".toTranslate()
            if (sec < 10) {
                t += "0";
            }
            t += sec + "秒".toTranslate()
        }
        return t;
    }
</script>
<script src="./Plugin/i18n/jquery.i18n.js"></script>
<script>
    //i18n
    $(function () {
        layui.use(['laytpl'], function () {
            laytpl = layui.laytpl;

            $.i18n({
                list: "list",//filePath+filePrefix+list+fileSuffix+.json
                defaultLang: "ru-RU",//defaultLang
                lang: "",//filePath+filePrefix+lang+fileSuffix+.json
                filePath: "./Plugin/i18n/json/",//filePath+filePrefix+lang+fileSuffix+.json
                filePrefix: "i18n_",//filePath+filePrefix+lang+fileSuffix+.json
                fileSuffix: "",//filePath+filePrefix+lang+fileSuffix+.json
                callback: function (arr) {
                    var lis = [];
                    layui.each(arr, function (index, item) {
                        laytpl($("#data0_templet").html()).render(item, function (html) {
                            lis.push(html);
                        });
                    });
                    $('.data-language-i18n').html(lis.join(''))

                    //刷新翻译
                    HandleShowContractUserInfo_Text()
                },//inin return lang list
            }, function () {
                //刷新翻译
                Handle_i18n()
            });
        });
    })
</script>
<script type="text/html" id="data0_templet">
    <li onclick="langChange(this)" data-lang="{{d.Value2}}">
        <a href="JavaScript:void(0)">{{d.Value}}</a>
    </li>
</script>
<script type="text/javascript">
    //语言切换
    function langChange(onthis) {
        var lang = $(onthis).data('lang')
        var onlang = $.i18n_getCurrentLanguage()
        if (onlang == lang) return;
        $.i18n_setLanguage(lang, function () {
            //刷新翻译
            HandleShowContractUserInfo_Text()
            Handle_i18n()
        })
    }
    function Handle_i18n() {
        layui.use(['laytpl'], function () {
            laytpl = layui.laytpl;

            $("[i18n]").i18n(function (strtemplet, i18nLang, formtCB, setCB) {
                if (strtemplet.indexOf("{"+"{")==-1) {
                    setCB(formtCB(strtemplet));
                } else {
                    laytpl(strtemplet).render(i18nLang, function (html) {
                        return setCB(html);
                    });
                }
            });
        });
    }
</script>
<script>
    //翻译
    var translateArr = {}
    function addTranslateArr(key, value) {
        translateArr[key] = value
    }
    String.prototype.toTranslateArr = function () {
        var str = this;
        for (var item in translateArr) {
            if (str.indexOf(item) >= 0) {
                str = str.replace(new RegExp(item, "g"), item.toTranslate_i18n())
            }
        }
        return str
    };
    String.prototype.toTranslate = function () {
        var str = this.toString().toTranslate_i18n();
        return str.toString()
    };

    //加入数组
    addTranslateArr("合约运行在", "合约运行在")
    addTranslateArr("请切换为", "请切换为")
    addTranslateArr("网络", "网络")
    addTranslateArr("主网", "主网")
    addTranslateArr("请输入金额", "请输入金额")
    addTranslateArr("请输入邀请码", "请输入邀请码")
    addTranslateArr("请输入推荐码", "请输入推荐码")
    addTranslateArr("请输入推荐人地址", "请输入推荐人地址")
    addTranslateArr("余额不足", "余额不足")
    addTranslateArr("授权操作金额失败", "授权操作金额失败")
    addTranslateArr("金额不正确", "金额不正确")
    addTranslateArr("今日投资额度剩余", "今日投资额度剩余")
    addTranslateArr("获取门票比例失败", "获取门票比例失败")
    addTranslateArr("获取提现信息失败", "获取提现信息失败")
    addTranslateArr("提现失败，提现金额不满足提现条件", "提现失败，提现金额不满足提现条件")
</script>
<script>
    //购买门票
    function buyTicket() {
        var buyTicketAmount = $('.buyTicketAmount').val();
        if (!buyTicketAmount) {
            msgtips2("请输入金额".toTranslate())
            return;
        }
        if (buyTicketAmount < 10) {
            msgtips2("金额最小为".toTranslate() + "10")
            return;
        }
        if (buyTicketAmount > 50000) {
            msgtips2("金额最大为".toTranslate() + "50000")
            return;
        }
        business_buyTicket(buyTicketAmount, function (resulr, rdata) {
            if (resulr) {
                msgtips2("购买门票成功".toTranslate())
                console.log(rdata)
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    //alert(rdata.message || rdata)
                    msgtips2("购买门票失败".toTranslate() + '(' + rdata.toTranslateArr() + ')')
                }

            }
        })
    }
    //直接投注
    function invest(code, rCode) {
        var investAmount = $('.investAmount').val();
        var gasPrice = $('.service-charge span.active').data('value');
        business_invest(investAmount, function (resulr, rdata) {
            if (resulr) {
                msgtips2("投资成功".toTranslate())
                console.log(rdata)
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    //alert(rdata.message || rdata)
                    msgtips2("投资失败".toTranslate() + '(' + rdata.toTranslateArr() + ')')
                }

            }
        }, code, rCode, gasPrice)
    }
    //投资1
    function invest_1() {
        var investAmount = $('.investAmount').val();
        var rCode = $('.data-RCode').val();
        if (!investAmount) {
            msgtips2("请输入金额")
            return;
        }
        if (investAmount < 100) {
            msgtips2("金额最小为" + "100")
            return;
        }
        if (investAmount > 300000) {
            msgtips2("金额最大为" + "300000")
            return;
        }

        business_getCurrentAccountCode(function (code, isNweCode) {
            console.log(code)
            if (!isNweCode) {
                //直接进入投注确认
                //invest(code)

                $('.data-RCode').data("code", code)
                $('.data-Recommendation-1').hide()
                $('.data-defaultAccount-1').show()
                !$('.service-charge span.active').length && $($('.service-charge span')[0]).addClass('active')

                showpop('#Recommendation')
            } else {
                $('.data-Recommendation-1').show()
                $('.data-defaultAccount-1').hide()
                !$('.service-charge span.active').length && $($('.service-charge span')[0]).addClass('active')

                business_getRecommendCode(function (_rCode) {
                    console.log(_rCode)
                    $('.data-RCode').val(_rCode).data("code", code)

                    var defaultRCode = business_getDefaultRecommendCode();
                    if (defaultRCode) {
                        $('.data-defaultRCode').html(defaultRCode).show();
                    } else {
                        $('.data-defaultRCode').hide();
                    }
                    showpop('#Recommendation')
                });
            }
        })
    }
    //投资2
    function invest_2() {
        var code = $('.data-RCode').data("code");
        var rCode = $('.data-RCode').val();
        invest(code, rCode)
    }

    //结算
    function settlement(onthis, type) {
        if ($(onthis).hasClass("disabled")) {
            return;
        }
        business_settlement(type, function (resulr, rdata) {
            if (resulr) {
                msgtips2("结算成功".toTranslate())
                console.log(rdata)
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    //alert(rdata.message || rdata)
                    msgtips2("结算失败".toTranslate())
                }

            }
        })
    }

    //提现
    function takeBonus(onthis) {
        if ($(onthis).hasClass("disabled")) {
            return;
        }
        business_takeBonus(function (resulr, rdata) {
            if (resulr) {
                msgtips2("提现成功".toTranslate())
                console.log(rdata)
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    //alert(rdata.message || rdata)
                    msgtips2("提现失败".toTranslate())
                }

            }
        })
    }
</script>
<script>
    //邀请码相关
    //显示邀请链接
    function showInvitationlLink() {
        business_getCurrentAccountCode(function (code, isNweCode) {
            if (!isNweCode) {
                var inviteUrl = document.location.protocol + '//' + window.location.host + "?rCode=" + code
                $('.data-inviteUrl').html(inviteUrl)
                $('.data-inviteUrl-copy').data("value", inviteUrl).show()

                $('.data-contractUserInfoCode').html(code)
                $('.data-contractUserInfoCode-copy').data("value", code).show()
            } else {
                $('.data-inviteUrl').html('请先投资'.toTranslate())
                $('.data-inviteUrl-copy').hide()

                $('.data-contractUserInfoCode').html('请先投资'.toTranslate())
                $('.data-contractUserInfoCode-copy').hide()
            }
        })

    }
    //复制邀请码
    function copyInvitationlCode(onthis) {
        var title = $(onthis).data('title')
        var value = $(onthis).data('value')
        if (!value) {
            return;
        }
        try {
            var oInput = document.createElement('input');
            oInput.value = value;
            document.body.appendChild(oInput);
            oInput.select(); // 选择对象
            document.execCommand("Copy"); // 执行浏览器复制命令
            oInput.style.display = 'none';
            msgtips2(title + '复制成功'.toTranslate());
        } catch (e) {
            console.log(e)
            msgtips('复制失败'.toTranslate());
        }
    }
</script>
<script>
    //历史投资单显示
    var tableData = [];

    function loadList() {
        $('.data-contractUserInfo20-1').show()
        $('.data-investRecord-1-1').hide()
        $('.data-investRecord-2-1').hide()
        $('.data-investRecord-3-1').hide()
        $('.data-investRecord-1').html('--')
        $('.data-investRecord-2').html('--')
        $('.data-investRecord-3').html('--')
        typeof HandleCB2 === "function" && HandleCB2(function (number) {
            tableData = [];
            for (var i = 0; i < number; i++) {
                tableData.push(Object.assign({}, {}));
                tableData[i].Index = i;
            }
            var size = number
            HandleList(1, size, function (rdata) {
                var newDataList = []
                var maxInvestDataIndex = 0;
                var maxInvest = 0;
                for (var i = 0; i < rdata.length; i++) {
                    if (Number(rdata[i].Status) == 0) {
                        newDataList.push(rdata[i])
                        if (maxInvest <= Number(rdata[i].Money)) {
                            maxInvest = Number(rdata[i].Money);
                            maxInvestDataIndex = newDataList.length - 1;
                        }
                    }
                }
                if (newDataList.length > 1) {
                    $('.data-contractUserInfo20-1').hide()
                    $('.data-investRecord-1-1').show()
                    $('.data-investRecord-1').html(newDataList[maxInvestDataIndex].SettledAmount)
                    var showCount = 1;
                    for (var i = 0; i < newDataList.length; i++) {
                        if (showCount >= 3) {
                            break;
                        }
                        if (i != maxInvestDataIndex) {
                            $('.data-investRecord-' + (showCount + 1) + '-1').show()
                            $('.data-investRecord-' + (showCount + 1)).html(newDataList[i].SettledAmount)
                            showCount++;
                        }
                    }
                }
            });
        })
    }

    function HandleList(number, size, cb) {
        var start = size * (number - 1);
        var end = size * number - 1;
        if (end > tableData.length - 1) {
            end = tableData.length - 1
        }
        //console.log("start:" + start + ",end:" + end)

        //处理账号信息
        //循环遍历
        var asynchronous = end - start + 1;
        var complete = 0;
        for (var i = start; i <= end; i++) {
            //console.log(i)
            HandleCB && HandleCB(tableData[i].Index, function (_recordsData, index) {
                //console.log(_recordsData)

                tableData[index].Money = _recordsData.Money;
                tableData[index].Status = _recordsData.Status;
                tableData[index].AdduoStaticBonus = _recordsData.AdduoStaticBonus;
                tableData[index].AdduoDynamicBonus = _recordsData.AdduoDynamicBonus;
                tableData[index].LeftOutMoney = _recordsData.LeftOutMoney;
                tableData[index].LastTime = _recordsData.LastTime;
                tableData[index].SettledAmount = _recordsData.SettledAmount;

                complete++
                //判断是否完成
                //console.log(asynchronous+","+complete)
                if (complete >= asynchronous) {
                    //开始处理推荐关系
                    //console.log("ok")
                    typeof cb === "function" && cb(tableData)
                }
            }, i)
        }
    }

    var HandleCB;
    function setHandleCB(_HandleCB) {
        HandleCB = _HandleCB
    }
    var HandleCB2;
    function setHandleCB2(_HandleCB2) {
        HandleCB2 = _HandleCB2
    }

    //设置处理
    setHandleCB(function (index, cb, index) {
        business_investRecords(index, function (_recordsData) {
            typeof cb === "function" && cb(_recordsData, index)
        }, null)
    });
    setHandleCB2(function (cb) {
        Dapp_getInvestDataByAddress(function (resulr, rdata) {
            if (resulr) {
                var countNunber = rdata[1]
                typeof cb === "function" && cb(countNunber)
            }
        }, null, 0)
    });
</script>


<script>
    //间隔刷新数据
    var timesIntervalRefreshData = null;
    function IntervalRefreshData() {
        //timesIntervalRefreshData && clearInterval(timesIntervalRefreshData);
        //var timesIntervalRefreshData = setTimeout(function () {
        //    //直接调用账户变更事件进行更新页面数据
        //    _DappContractPlugin.getNetworkType(function (networkType) {
        //        _DappContractPlugin.DappBaseObj._networkChangedEvent(networkType)
        //    })
        //}, 1000 * 60)
    }
</script>
